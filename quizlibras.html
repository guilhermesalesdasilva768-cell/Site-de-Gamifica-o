<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Libras - Conscientiza√ß√£o</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-color: #e6f3ff;
        margin: 0;
        padding: 20px;
        box-sizing: border-box;
    }
    .quiz-container {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        width: 100%;
        max-width: 600px;
        text-align: center;
        animation: fadeIn 0.8s ease-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    h1 { color: #007acc; margin-bottom: 25px; font-size: 2.2em; }
    .question-section { margin-bottom: 25px; }
    .question-text { font-size: 1.6em; color: #333; margin-bottom: 20px; line-height: 1.4; }
    .options-container { display: flex; flex-direction: column; gap: 12px; margin-bottom: 25px; }
    .option-button {
        background-color: #f0f8ff; color: #333; border: 2px solid #b3e0ff;
        padding: 15px 20px; border-radius: 8px; font-size: 1.1em; cursor: pointer;
        transition: all 0.3s ease; text-align: left; width: 100%; box-sizing: border-box;
    }
    .option-button:hover:not(.correct):not(.incorrect):not(.disabled) {
        background-color: #e0f0ff; border-color: #80c0ff;
    }
    .option-button.correct { background-color: #d4edda; border-color: #28a745; color: #155724; font-weight: bold; }
    .option-button.incorrect { background-color: #f8d7da; border-color: #dc3545; color: #721c24; font-weight: bold; }
    .option-button.disabled { cursor: not-allowed; opacity: 0.8; }
    .feedback-message { margin-top: 15px; font-size: 1.2em; font-weight: bold; min-height: 30px; }
    .score-timer-container { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 1.1em; color: #555; padding: 0 10px; }
    #score-display, #timer-display { font-weight: bold; color: #007acc; font-size: 1.2em; }
    #timer-display { color: #d32f2f; }
    #next-button {
        background-color: #007acc; color: white; border: none; padding: 12px 25px;
        border-radius: 8px; font-size: 1.2em; cursor: pointer; transition: background-color 0.3s ease;
        margin-top: 20px;
    }
    #next-button:hover:not(:disabled) { background-color: #005f99; }
    #next-button:disabled { background-color: #cccccc; cursor: not-allowed; }
    .progress-indicator { margin-top: 20px; font-size: 0.9em; color: #777; }
    #robot-container {
        display: none;
        margin-top: 20px;
        animation: fadeIn 0.8s ease-in-out;
    }
    #robot-container img {
        width: 120px;
        margin-bottom: 10px;
    }
    /* Estilos para os bot√µes finais */
    .final-buttons {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 10px;
    }
    .final-buttons button {
        padding: 12px 25px;
        border: none;
        border-radius: 8px;
        font-size: 1.2em;
        cursor: pointer;
    }
    .final-buttons #play-again-btn {
        background-color: #28a745;
        color: white;
    }
    .final-buttons #exit-btn {
        background-color: #dc3545;
        color: white;
    }
</style>
</head>
<body>
<div class="quiz-container">
    <h1>Quiz: Mundo da Surdez ü¶ª</h1>

    <div class="score-timer-container">
        <div id="score-display">Pontos: 0</div>
        <div id="timer-display">Tempo: 30s</div>
    </div>

    <div class="question-section">
        <p class="question-text" id="question-text">Carregando pergunta...</p>
        <div class="options-container" id="options-container"></div>
    </div>

    <div id="robot-container">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Libras_sign.svg/1200px-Libras_sign.svg.png" alt="Sinal de Libras">
        <p id="info-text"></p>
    </div>

    <div class="feedback-message" id="feedback-message"></div>

    <button id="next-button" disabled>Pr√≥xima Pergunta</button>

    <div class="progress-indicator" id="progress-indicator">
        Quest√£o 1 de 13
    </div>
    
    <div class="final-buttons" style="display: none;">
        <button id="play-again-btn">Jogar Novamente</button>
        <button id="exit-btn">Sair</button>
    </div>
</div>

<script>
const questions = [
    // N√≠vel 1: Verdadeiro ou Falso
    { type: "vf", question: "N√≠vel 1: Verdadeiro ou Falso<br>Todas as pessoas surdas s√£o mudas.", options: ["Verdadeiro", "Falso"], correctAnswer: "Falso", info: "Nem todas as pessoas surdas s√£o mudas. A maioria tem cordas vocais e pode produzir sons. A dificuldade de fala ocorre pela falta de audi√ß√£o, que impede a imita√ß√£o dos sons da fala." },
    { type: "vf", question: "N√≠vel 1: Verdadeiro ou Falso<br>Libras √© uma l√≠ngua oficial do Brasil.", options: ["Verdadeiro", "Falso"], correctAnswer: "Verdadeiro", info: "A Libras foi reconhecida como a segunda l√≠ngua oficial do Brasil pela Lei n¬∫ 10.436, em 2002." },
    { type: "vf", question: "N√≠vel 1: Verdadeiro ou Falso<br>Libras √© universal, usada em todos os pa√≠ses.", options: ["Verdadeiro", "Falso"], correctAnswer: "Falso", info: "Cada pa√≠s tem sua pr√≥pria l√≠ngua de sinais. A Libras √© a l√≠ngua usada no Brasil. Existem diversas l√≠nguas de sinais no mundo, como a L√≠ngua Americana de Sinais (ASL) e a L√≠ngua de Sinais Brit√¢nica (BSL)." },
    { type: "vf", question: "N√≠vel 1: Verdadeiro ou Falso<br>A estrutura gramatical da Libras √© igual √† do portugu√™s.", options: ["Verdadeiro", "Falso"], correctAnswer: "Falso", info: "A Libras tem sua pr√≥pria gram√°tica, com estrutura, vocabul√°rio e regras diferentes do portugu√™s. A ordem das palavras e o uso de express√µes faciais s√£o muito importantes." },
    { type: "vf", question: "N√≠vel 1: Verdadeiro ou Falso<br>Pessoas surdas t√™m uma cultura pr√≥pria.", options: ["Verdadeiro", "Falso"], correctAnswer: "Verdadeiro", info: "Sim! A cultura surda inclui a Libras, a hist√≥ria da comunidade surda, obras de arte, piadas e o compartilhamento de experi√™ncias √∫nicas. √â uma cultura rica e vibrante." },
    
    // N√≠vel 2: Completar Lacunas
    { type: "fill", question: "N√≠vel 2: Completar a Lacuna<br>A Libras foi reconhecida como l√≠ngua oficial no ano de...", options: ["2002", "1998", "2010"], correctAnswer: "2002", info: "O reconhecimento legal da Libras em 2002 foi um passo crucial para a educa√ß√£o e inclus√£o da comunidade surda no Brasil." },
    { type: "fill", question: "N√≠vel 2: Completar a Lacuna<br>Cada pa√≠s tem sua pr√≥pria ___ de sinais.", options: ["gram√°tica", "l√≠ngua", "varia√ß√£o"], correctAnswer: "l√≠ngua", info: "Assim como l√≠nguas faladas, as l√≠nguas de sinais variam de um pa√≠s para outro, adaptando-se a culturas e hist√≥rias locais." },
    { type: "fill", question: "N√≠vel 2: Completar a Lacuna<br>A estrutura da Libras n√£o depende do ___ para existir.", options: ["espa√ßo", "portugu√™s", "sinal"], correctAnswer: "portugu√™s", info: "A Libras √© uma l√≠ngua completa e independente. Ela n√£o √© uma tradu√ß√£o literal do portugu√™s, mas um sistema lingu√≠stico aut√¥nomo e rico." },
    { type: "fill", question: "N√≠vel 2: Completar a Lacuna<br>O nome em Libras √© um sinal ___ e pessoal.", options: ["√∫nico", "simples", "exclusivo"], correctAnswer: "exclusivo", info: "Cada pessoa surda tem um 'sinal-nome' exclusivo, que √© como um apelido em portugu√™s, dado por outro surdo para identific√°-la na comunidade." },
    { type: "fill", question: "N√≠vel 2: Completar a Lacuna<br>A Libras tem sua pr√≥pria ___, diferente do portugu√™s.", options: ["escrita", "estrutura", "gram√°tica"], correctAnswer: "gram√°tica", info: "A gram√°tica da Libras √© visuo-espacial, ou seja, usa o espa√ßo e o corpo para construir o sentido. Isso a torna muito diferente da gram√°tica do portugu√™s." },
    
    // N√≠vel 3: Sinais em Libras (Perguntas com descri√ß√£o)
    { type: "signs", question: "N√≠vel 3: Sinais em Libras<br>Qual sinal em Libras representa a palavra 'Obrigado'?", options: ["A m√£o fechada na altura do peito se movendo para frente.", "A m√£o aberta tocando o queixo e se movendo para frente.", "A m√£o em 'O' no peito movendo para cima."], correctAnswer: "A m√£o aberta tocando o queixo e se movendo para frente.", info: "Este gesto √© um dos sinais mais comuns em Libras para expressar gratid√£o. √â um sinal direto e respeitoso." },
    { type: "signs", question: "N√≠vel 3: Sinais em Libras<br>Qual sinal em Libras significa 'Comunidade Surda'?", options: ["M√£os em 'C' uma sobre a outra, formando um c√≠rculo com o movimento circular.", "Uma m√£o em 'S' na frente da boca.", "As duas m√£os fechadas se tocando em frente ao corpo."], correctAnswer: "M√£os em 'C' uma sobre a outra, formando um c√≠rculo com o movimento circular.", info: "Este sinal representa a uni√£o e o grupo de pessoas surdas. As m√£os formam um c√≠rculo, simbolizando a comunidade e a identidade." },
    { type: "signs", question: "N√≠vel 3: Sinais em Libras<br>Qual sinal representa a palavra 'Libras'?", options: ["A m√£o em 'L' na frente da boca, movendo para frente e para tr√°s.", "A m√£o em 'L' na frente da orelha.", "A m√£o aberta na altura da cabe√ßa."], correctAnswer: "A m√£o em 'L' na frente da boca, movendo para frente e para tr√°s.", info: "O sinal de 'Libras' √© um dos primeiros que se aprende, pois representa a pr√≥pria l√≠ngua. O movimento da m√£o com o formato 'L' na frente da boca √© o sinal correto." }
];

let currentQuestionIndex = 0;
let userScore = 0;
const pointsPerCorrectAnswer = 5;
const timePerQuestion = 30;
let questionTimer;

const questionText = document.getElementById('question-text');
const optionsContainer = document.getElementById('options-container');
const feedbackMessage = document.getElementById('feedback-message');
const nextButton = document.getElementById('next-button');
const scoreDisplay = document.getElementById('score-display');
const timerDisplay = document.getElementById('timer-display');
const progressIndicator = document.getElementById('progress-indicator');
const robotContainer = document.getElementById('robot-container');
const infoText = document.getElementById('info-text');

// Adicionei novas vari√°veis para os bot√µes e o cont√™iner final
const finalButtonsContainer = document.querySelector('.final-buttons');
const playAgainButton = document.getElementById('play-again-btn');
const exitButton = document.getElementById('exit-btn');


function startTimer() {
    let timeLeft = timePerQuestion;
    timerDisplay.textContent = `Tempo: ${String(timeLeft).padStart(2, '0')}s`;
    clearInterval(questionTimer);
    questionTimer = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `Tempo: ${String(timeLeft).padStart(2, '0')}s`;
        if (timeLeft <= 0) {
            clearInterval(questionTimer);
            feedbackMessage.textContent = "Tempo esgotado! A resposta era: " + questions[currentQuestionIndex].correctAnswer;
            feedbackMessage.style.color = "#dc3545";
            disableOptions(true);
            nextButton.disabled = false;
        }
    }, 1000);
}

function loadQuestion() {
    // Esconder os bot√µes finais e reexibir o bot√£o "Pr√≥xima Pergunta" e o progresso
    finalButtonsContainer.style.display = 'none';
    nextButton.style.display = 'inline-block';
    progressIndicator.style.display = 'block';

    robotContainer.style.display = "none";
    if (currentQuestionIndex >= questions.length) return endQuiz();
    
    const q = questions[currentQuestionIndex];
    questionText.innerHTML = q.question;
    optionsContainer.innerHTML = '';
    feedbackMessage.textContent = '';
    nextButton.disabled = true;

    // Embaralha as op√ß√µes
    const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);

    shuffledOptions.forEach(opt => {
        const btn = document.createElement('button');
        btn.classList.add('option-button');
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt, q.correctAnswer, btn, q.info);
        optionsContainer.appendChild(btn);
    });

    progressIndicator.textContent = `Quest√£o ${currentQuestionIndex + 1} de ${questions.length}`;
    startTimer();
}

function disableOptions(disable) {
    Array.from(optionsContainer.children).forEach(btn => {
        btn.disabled = disable;
        btn.classList.toggle('disabled', disable);
    });
}

function checkAnswer(selected, correct, btn, info) {
    clearInterval(questionTimer);
    disableOptions(true);
    if (selected === correct) {
        userScore += pointsPerCorrectAnswer;
        scoreDisplay.textContent = `Pontos: ${userScore}`;
        feedbackMessage.textContent = "Correto! ‚úÖ";
        feedbackMessage.style.color = "#28a745";
        btn.classList.add('correct');
        showRobot(info);
    } else {
        feedbackMessage.textContent = "Incorreto! ‚ùå";
        feedbackMessage.style.color = "#dc3545";
        btn.classList.add('incorrect');
        Array.from(optionsContainer.children).forEach(b => {
            if (b.textContent === correct) {
                b.classList.add('correct');
            }
        });
        showRobot(info);
    }
    nextButton.disabled = false;
}

function showRobot(info) {
    infoText.textContent = info;
    robotContainer.style.display = "block";
    if ('speechSynthesis' in window) {
        let speech = new SpeechSynthesisUtterance(info);
        speech.lang = "pt-BR";
        speech.rate = 1;
        speech.pitch = 1;
        window.speechSynthesis.speak(speech);
    }
}

function nextQuestion() {
    // Interrompe qualquer fala em andamento antes de ir para a pr√≥xima pergunta
    window.speechSynthesis.cancel();
    currentQuestionIndex++;
    loadQuestion();
}

function endQuiz() {
    clearInterval(questionTimer);
    questionText.textContent = "Quiz Finalizado!";
    optionsContainer.innerHTML = `<p>Voc√™ marcou ${userScore} pontos!</p>`;
    feedbackMessage.textContent = "Parab√©ns!";
    
    // Esconder os elementos do quiz e exibir os bot√µes finais
    nextButton.style.display = 'none';
    progressIndicator.style.display = 'none';
    robotContainer.style.display = 'none';
    finalButtonsContainer.style.display = 'flex'; // Usar 'flex' para exibir os bot√µes lado a lado
}

// Nova fun√ß√£o para reiniciar o quiz
function restartQuiz() {
    currentQuestionIndex = 0;
    userScore = 0;
    scoreDisplay.textContent = `Pontos: ${userScore}`;
    // Chamando loadQuestion para iniciar o quiz novamente do zero
    loadQuestion();
}

// Adicionando os event listeners aos novos bot√µes
playAgainButton.addEventListener('click', restartQuiz);
exitButton.addEventListener('click', () => {
    window.location.href = "dashboard.html"; // Redireciona para outra p√°gina
});

nextButton.addEventListener('click', nextQuestion);

// Inicia o quiz ao carregar a p√°gina
loadQuestion();
</script>
</body>
</html>